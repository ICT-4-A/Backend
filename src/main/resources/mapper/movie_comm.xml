<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--여기서 namespace는 @Mapper를 지정한 Interface인 즉 패키지포함해서 MemoDao를 작성해야 함--> 
<mapper namespace="kr.co.ictedu.movie.movie.MovieCommDao">
<insert id="addMcomment" parameterType="mcomm">
INSERT INTO MOVIE_COMMENT VALUES(movie_comment_seq.NEXTVAL, #{movie_form_num}, #{writer}, #{content},sysdate )
</insert>
<select id="commentList" resultType="mcomm" parameterType="int">

SELECT c.comment_num, c.content, c.commdate,c.writer, m.nickname
FROM MOVIE_COMMENT c
JOIN MEMBER M ON c.writer = m.nickname
WHERE c.MOVIE_FORM_NUM =#{movie_form_num}
ORDER BY c.commdate DESC
</select>
</mapper> 








