<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.ictedu.movie.board.BoardCommDao">
<insert id="addComment" parameterType="bcomm">
insert into board_comm values(board_comm_seq.nextVal,#{ucode}, #{unickname},
#{ucontent}, #{reip}, sysdate)
</insert>
<select id="listComment" resultType="bcomm" parameterType="int">
SELECT num,ucode,unickname,ucontent,reip,uregdate,row_num FROM(
SELECT num,ucode,unickname,ucontent,reip,uregdate, ROW_NUMBER() 
OVER(ORDER BY num desc) AS row_num FROM board_comm
</select>
</mapper>